<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jobzzy | The Professional Network</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 1. SMOKY BACKGROUND (UNCHANGED) */
        body { margin: 0; background: #ffffff; height: 100vh; overflow: hidden; font-family: 'Inter', sans-serif; }
        .smoke-container { position: fixed; width: 100%; height: 100%; z-index: -1; filter: blur(70px); }
        .smoke-cloud { position: absolute; border-radius: 50%; animation: drift 15s infinite alternate ease-in-out; }
        .blue-cloud { width: 600px; height: 600px; background: rgba(59, 130, 246, 0.2); top: -10%; left: -5%; }
        .white-cloud { width: 500px; height: 500px; background: rgba(240, 249, 255, 0.8); bottom: 10%; right: 5%; }
        @keyframes drift { from { transform: translate(0, 0) scale(1); } to { transform: translate(10%, 15%) scale(1.1); } }

        /* 2. SPLASH SCREEN & NEON (UNCHANGED) */
        #splash { position: fixed; inset: 0; background: white; z-index: 500; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: opacity 0.8s ease-out; }
        .hop { font-size: 80px; animation: hopAnimation 1.5s infinite ease-in-out; }
        @keyframes hopAnimation { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-25px); } }
        .ghost-text { font-size: 20px; font-weight: 800; color: #3b82f6; opacity: 0; animation: ghosting 1.5s infinite; margin-top: 20px; }
        @keyframes ghosting { 0% { opacity: 0; } 50% { opacity: 1; } 100% { opacity: 0; } }
        .glow-frame { background: rgba(255, 255, 255, 0.3); backdrop-filter: blur(15px); border: 2px solid rgba(59, 130, 246, 0.5); animation: neonPulse 2.5s infinite; transition: all 0.3s ease; }
        @keyframes neonPulse { 0%, 100% { box-shadow: 0 0 15px rgba(59, 130, 246, 0.3); } 50% { box-shadow: 0 0 35px rgba(59, 130, 246, 0.7); } }

        /* 3. VERIFIED BADGE (UNCHANGED) */
        .verified-badge { width: 16px; height: 16px; background-color: #0095f6; clip-path: polygon(50% 0%, 61% 10%, 75% 10%, 80% 24%, 94% 25%, 90% 39%, 100% 50%, 90% 61%, 94% 75%, 80% 76%, 75% 90%, 61% 90%, 50% 100%, 39% 90%, 25% 90%, 20% 76%, 6% 75%, 10% 61%, 0% 50%, 10% 39%, 6% 25%, 20% 24%, 25% 10%, 39% 10%); display: flex; align-items: center; justify-content: center; }
        .verified-badge::after { content: '‚úì'; color: white; font-size: 9px; font-weight: bold; }

        /* 4. DASHBOARD - EXECUTIVE LAYOUT */
        #dashboard-section { height: 100vh; overflow-y: scroll; background: #f0f2f5; scroll-behavior: smooth; }
        .fb-header { position: sticky; top: 0; background: white; border-bottom: 1px solid #ddd; z-index: 110; padding: 12px 20px; display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; }
        
        /* Middle Structures */
        .header-structures { display: flex; gap: 30px; justify-content: center; }
        .nav-struct { width: 30px; height: 30px; cursor: pointer; color: #65676b; transition: 0.3s; }
        .nav-struct:hover, .nav-struct.active { color: #3b82f6; transform: scale(1.1); }
        .msg-struct { color: #0095f6; } /* Unique Blue Message Struct */
        .bell-struct { color: #f59e0b; } /* Golden Bell Struct */
        
        /* Post Card Style */
        .post-card { background: white; border-radius: 12px; padding: 15px; border: 1px solid #ddd; margin-bottom: 10px; }

        /* 5. PROFILE/SETTINGS MODAL (GLASSMORPHISM) */
        #profile-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(20px); z-index: 500; display: none; align-items: center; justify-content: center; padding: 20px; transition: opacity 0.5s; }
        .modal-content { background: rgba(255,255,255,0.8); width: 100%; max-width: 600px; max-height: 90vh; overflow-y: auto; padding: 40px; border-radius: 40px; border: 2px solid white; box-shadow: 0 25px 50px rgba(0,0,0,0.1); }
        
        .upload-circle { width: 120px; height: 120px; background: #e2e8f0; border-radius: 50%; border: 4px solid white; box-shadow: 0 10px 20px rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center; margin: 0 auto 20px auto; cursor: pointer; position: relative; }
        .upload-circle:hover::after { content: 'Upload'; position: absolute; inset: 0; background: rgba(0,0,0,0.5); border-radius: 50%; color: white; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold; }

        /* Text Template Colors */
        .color-picker { width: 30px; height: 30px; border-radius: 8px; cursor: pointer; border: 2px solid white; }
        .write-something-box { width: 100%; min-height: 150px; padding: 20px; border-radius: 20px; border: 2px solid rgba(59,130,246,0.1); transition: all 0.3s; }

        .hidden { display: none !important; }
        .fade-out { opacity: 0; pointer-events: none; }
        input, select, textarea { background: rgba(255, 255, 255, 0.6) !important; border: 1px solid rgba(59, 130, 246, 0.2) !important; }
    </style>
</head>
<body>

    <div class="smoke-container">
        <div class="smoke-cloud blue-cloud"></div>
        <div class="smoke-cloud white-cloud"></div>
    </div>

    <div id="splash">
        <div class="hop">üíº</div>
        <h1 class="text-4xl font-black mt-4 text-blue-600">Jobzzy</h1>
        <div id="motivator" class="ghost-text">Loading...</div>
    </div>

    <div id="entrance-wrap">
        <nav class="fixed top-0 left-0 w-full p-8 z-20">
            <div class="flex items-center gap-2"><span class="text-3xl">üíº</span><span class="text-2xl font-black text-blue-600">Jobzzy</span></div>
        </nav>

        <div id="gateway-section" class="flex flex-col items-center justify-center min-h-screen z-10 p-6">
            <div class="text-center mb-16">
                <h2 class="text-5xl font-black text-slate-900 mb-4">Expand your Empire.</h2>
                <p class="text-slate-500 text-lg">Choose your path today.</p>
            </div>
            <div class="flex flex-col md:flex-row gap-10">
                <button onclick="showSection('auth-section')" class="glow-frame p-12 rounded-[50px] w-72 h-80 flex flex-col items-center justify-center hover:scale-105">
                    <div id="bldg" class="text-7xl mb-6">üè¢</div>
                    <span class="text-2xl font-black text-slate-800">Hire Talent</span>
                    <p class="text-[10px] text-blue-500 font-bold mt-2 uppercase">For Companies</p>
                </button>
                <button class="glow-frame p-12 rounded-[50px] w-72 h-80 flex flex-col items-center justify-center hover:scale-105">
                    <div class="rocket-hop text-7xl mb-6">üöÄ</div>
                    <span class="text-2xl font-black text-slate-800">Find a Job</span>
                    <p class="text-[10px] text-blue-500 font-bold mt-2 uppercase">For Seekers</p>
                </button>
            </div>
        </div>

        <div id="auth-section" class="hidden flex flex-col items-center justify-center min-h-screen z-10 p-6">
            <div class="bg-white/40 backdrop-blur-3xl border-2 border-white/70 p-10 rounded-[50px] w-full max-w-md shadow-2xl">
                <div id="signup-form">
                    <h2 class="text-3xl font-black text-slate-900">Register Brand</h2>
                    <div class="space-y-4 mt-8">
                        <input type="text" id="reg-name" placeholder="Business Name" class="w-full p-5 rounded-3xl border-none ring-1 ring-blue-100">
                        <input type="email" id="reg-email" placeholder="Business Email" class="w-full p-5 rounded-3xl border-none ring-1 ring-blue-100">
                        <select id="reg-size" class="w-full p-5 rounded-3xl border-none ring-1 ring-blue-100 bg-white/60">
                            <option value="">Team Size (Workers)</option>
                            <option value="1-10">1 - 10 Workers</option>
                            <option value="50+">50+ Workers</option>
                        </select>
                        <input type="password" placeholder="Create Password" class="w-full p-5 rounded-3xl border-none ring-1 ring-blue-100">
                        <button onclick="goToAgreement()" class="w-full bg-blue-600 text-white font-black p-5 rounded-3xl mt-4 shadow-xl">Continue</button>
                    </div>
                    <p class="text-center mt-6 text-sm">Already a brand? <span class="text-blue-600 font-bold cursor-pointer" onclick="toggleAuth()">Login</span></p>
                </div>
                <div id="login-form" class="hidden text-center">
                    <h2 class="text-3xl font-black text-slate-900">Brand Login</h2>
                    <div class="space-y-4 mt-8">
                        <input type="email" placeholder="Business Email" class="w-full p-5 rounded-3xl border-none ring-1 ring-blue-100">
                        <input type="password" placeholder="Password" class="w-full p-5 rounded-3xl border-none ring-1 ring-blue-100">
                        <button onclick="enterDashboard()" class="w-full bg-blue-600 text-white font-black p-5 rounded-3xl mt-4 shadow-xl">Secure Login</button>
                    </div>
                    <p class="mt-6 text-sm">New here? <span class="text-blue-600 font-bold cursor-pointer" onclick="toggleAuth()">Sign up</span></p>
                </div>
            </div>
        </div>

        <div id="agreement-section" class="hidden flex flex-col items-center justify-center min-h-screen z-10 p-6">
            <div class="bg-white/40 backdrop-blur-3xl border-2 border-white/70 p-10 rounded-[50px] w-full max-w-md text-center">
                <div class="flex items-center justify-center gap-3 mb-10 p-5 bg-white/60 rounded-[30px] border border-white">
                    <div class="w-14 h-14 bg-slate-200 rounded-full flex items-center justify-center">üë§</div>
                    <h3 id="preview-name" class="font-black text-slate-800 text-xl tracking-tight">Brand Name</h3>
                    <div class="verified-badge"></div>
                </div>
                <div class="flex items-start gap-3 text-left mb-10 px-4">
                    <input type="checkbox" id="agree-check" class="mt-1 w-6 h-6 accent-blue-600">
                    <label for="agree-check" class="text-sm font-bold text-slate-600">I agree to the <span class="text-blue-600 underline cursor-pointer">Terms & Conditions</span></label>
                </div>
                <button onclick="enterDashboard()" id="continue-btn" class="hidden w-full bg-blue-600 text-white font-black p-6 rounded-[30px] shadow-xl">Continue</button>
            </div>
        </div>
    </div>

    <div id="dashboard-section" class="hidden">
        <header class="fb-header">
            <div class="flex items-center gap-4">
                <div onclick="openProfileModal()" class="w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center border-2 border-white shadow-inner cursor-pointer">
                    <svg class="w-6 h-6 text-slate-400" fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                </div>
                <h1 class="text-2xl font-black text-blue-600 tracking-tighter">Jobzzy</h1>
            </div>

            <div class="header-structures">
                <svg class="nav-struct active" fill="currentColor" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg> <svg class="nav-struct msg-struct" fill="currentColor" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg> <svg class="nav-struct bell-struct" fill="currentColor" viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg> </div>

            <div class="flex justify-end p-2 bg-gray-100 rounded-full cursor-pointer text-gray-500">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/></svg>
            </div>
        </header>

        <main class="max-w-xl mx-auto">
            <div id="job-feed" class="px-4 mt-6">
                </div>
        </main>
    </div>

    <div id="profile-modal">
        <div class="modal-content relative flex flex-col">
            <button onclick="toggleModal('profile-modal', false)" class="self-start px-6 py-2 bg-blue-600 text-white font-black rounded-xl shadow-[0_0_20px_rgba(59,130,246,0.6)] mb-8">‚Üê Go Back</button>
            
            <h2 class="text-3xl font-black mb-8 text-center text-slate-900 tracking-tighter">Profile Control Center</h2>

            <div class="upload-circle" onclick="triggerFileUpload()">
                <svg class="w-16 h-16 text-slate-300" fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                <input type="file" id="pfp-upload" class="hidden" accept="image/*" onchange="previewPFP(this)">
            </div>
            <div class="flex gap-4 justify-center mb-6">
                <button onclick="triggerCamera()" class="px-4 py-2 bg-white text-blue-600 text-sm font-bold rounded-lg border">Take Photo</button>
                <button onclick="triggerFileUpload()" class="px-4 py-2 bg-white text-blue-600 text-sm font-bold rounded-lg border">Gallery</button>
            </div>

            <input type="text" id="profile-bio" placeholder="Write your brand bio..." class="w-full p-4 rounded-xl mb-4 text-slate-800 font-medium">
            <button class="bg-slate-900 text-white font-bold p-4 rounded-xl mb-10 w-full">Done Editing Profile</button>

            <div class="write-something-today p-6 bg-white/50 rounded-3xl border border-white mb-8 text-center">
                <h3 class="font-black text-xl mb-4 text-slate-800">Write Something Today!</h3>
                
                <textarea id="write-something-text" class="write-something-box font-bold text-lg mb-4 bg-white/60 focus:ring-2 focus:ring-blue-400" placeholder="Post for your Empire..."></textarea>
                
                <div class="flex gap-2 justify-center mb-6">
                    <div class="color-picker bg-slate-900 border-2 border-slate-900" onclick="setTextStyle('slate-900', 'white')"></div>
                    <div class="color-picker bg-blue-600" onclick="setTextStyle('blue-600', 'white')"></div>
                    <div class="color-picker bg-green-600" onclick="setTextStyle('green-600', 'white')"></div>
                    <div class="color-picker bg-purple-600" onclick="setTextStyle('purple-600', 'white')"></div>
                    <div class="color-picker bg-rose-600" onclick="setTextStyle('rose-600', 'white')"></div>
                    <div class="color-picker bg-white border" onclick="setTextStyle('slate-700', 'slate-900')"></div>
                </div>

                <button class="w-full bg-blue-600 text-white font-black p-4 rounded-2xl shadow-xl hover:scale-105 transition-all">Upload Post</button>
            </div>

            <div class="p-10 bg-white/50 rounded-3xl border border-dashed border-gray-300 text-center">
                <svg class="w-16 h-16 text-gray-300 mx-auto mb-4" fill="currentColor" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                <h4 class="font-bold text-slate-600 text-lg">No Post Here!</h4>
                <p class="text-sm text-gray-400 mt-1">Start sharing your vision.</p>
            </div>
        </div>
    </div>

    <script>
        // --- FIXED SUPABASE INITIALIZATION ---
        const SUPABASE_URL = "https://hnfhmlghnqlxgdecoetz.supabase.co";
        const SUPABASE_KEY = "sb_publishable_-jtctinLpsT0jdHwxPDmVw_Yb2AZTOo";
        const _supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        // --- SPLASH LOGIC (UNCHANGED) ---
        const ghostWords = ["Ready to unlock your future?", "Welcome back...", "Don't give up...", "Loading..."];
        let gIdx = 0;
        const motivInterval = setInterval(() => {
            const el = document.getElementById('motivator');
            if(el) { el.innerText = ghostWords[gIdx]; gIdx++; if(gIdx >= ghostWords.length) clearInterval(motivInterval); }
        }, 1500);
        setTimeout(() => { document.getElementById('splash').classList.add('fade-out'); }, 6500);

        // --- ENTRANCE ANIMATIONS (UNCHANGED) ---
        const b = document.getElementById('bldg');
        let night = false;
        setInterval(() => { if(b) { night = !night; b.innerHTML = night ? 'üèôÔ∏è' : 'üè¢'; } }, 3000);

        // --- NAVIGATION LOGIC ---
        function showSection(id) {
            document.querySelectorAll('#gateway-section, #auth-section, #agreement-section, #dashboard-section').forEach(s => s.classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
        }

        function toggleAuth() {
            document.getElementById('signup-form').classList.toggle('hidden');
            document.getElementById('login-form').classList.toggle('hidden');
        }

        function goToAgreement() {
            const n = document.getElementById('reg-name').value || "Elite Brand";
            document.getElementById('preview-name').innerText = n;
            document.getElementById('priv-name').innerText = n;
            document.getElementById('dash-biz-name').innerText = n;
            document.getElementById('priv-email').innerText = document.getElementById('reg-email').value || "admin@brand.com";
            showSection('agreement-section');
        }

        function enterDashboard() {
            document.getElementById('entrance-wrap').classList.add('hidden');
            showSection('dashboard-section');
            generate30Posts();
        }

        function toggleModal(id, show) { document.getElementById(id).classList.toggle('hidden', !show); }
        function openProfileModal() { toggleModal('profile-modal', true); }

        // --- DASHBOARD JS (UNCHANGED) ---
        function generate30Posts() {
            const feed = document.getElementById('job-feed');
            const bizName = document.getElementById('reg-name')?.value || "Your Brand";
            for(let i=1; i<=30; i++) {
                feed.innerHTML += `
                <div class="mb-4 post-animation">
                    <div class="bg-white p-3 rounded-t-xl flex items-center justify-between border-x border-t border-gray-200">
                         <div class="flex items-center gap-2">
                            <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-[10px] text-white font-bold">${bizName[0]}</div>
                            <span class="font-black text-xs text-slate-800 tracking-tighter uppercase">${bizName}</span>
                            <div class="verified-badge"></div>
                         </div>
                         <span class="text-[10px] font-bold text-blue-500">Are you interested in this role?</span>
                    </div>
                    <div class="post-card rounded-t-none">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center text-slate-400 font-black">?</div>
                            <div><p class="font-bold text-sm">Professional Seeker #${i}</p><p class="text-[10px] text-gray-400">Seeking Talent Role ‚Ä¢ Kenya</p></div>
                        </div>
                        <p class="text-sm text-gray-600 mb-4 leading-relaxed">I am ready to bring immediate value to your brand. Check my portfolio and interview requests.</p>
                        <div class="flex gap-4 border-t pt-3 mt-4">
                            <button onclick="spawnHearts(this)" class="flex items-center gap-1 text-gray-500 font-bold text-xs relative">
                                <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/></svg> 
                                Love
                            </button>
                            <button class="text-gray-500 font-bold text-xs">üí¨ Comment</button>
                            <button class="text-gray-500 font-bold text-xs">‚ÜóÔ∏è Share</button>
                        </div>
                    </div>
                </div>`;
            }
        }

        // --- PROFILE LOGIC ---
        function triggerFileUpload() { document.getElementById('pfp-upload').click(); }
        
        function previewPFP(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const uploadCircle = document.querySelector('.upload-circle');
                    uploadCircle.style.backgroundImage = `url(${e.target.result})`;
                    uploadCircle.style.backgroundSize = 'cover';
                    uploadCircle.innerHTML = ''; // Remove the human icon
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        async function triggerCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                alert("Camera accessed. In a real app, this stream would capture your picture.");
                stream.getTracks().forEach(track => track.stop()); // Stop the camera
            } catch (err) {
                alert("System permission denied for Camera.");
            }
        }

        function setTextStyle(bgClass, textClass) {
            const textBox = document.getElementById('write-something-text');
            // Remove previous classes
            textBox.classList.remove('bg-slate-900', 'bg-blue-600', 'bg-green-600', 'bg-purple-600', 'bg-rose-600', 'bg-white');
            textBox.classList.remove('text-white', 'text-slate-700', 'text-slate-900');
            // Add new classes
            textBox.classList.add(`bg-${bgClass}`);
            textBox.classList.add(`text-${textClass}`);
        }

        // Agreement Checkbox
        document.getElementById('agree-check').addEventListener('change', function() {
            document.getElementById('continue-btn').classList.toggle('hidden', !this.checked);
        });
    </script>
</body>
</html>
