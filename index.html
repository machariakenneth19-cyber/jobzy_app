<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jobzzy | Global Professional Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #ffffff; color: #0f172a; overflow-x: hidden; }
        .page-section { display: none; }
        .page-active { display: block; }
        
        .money-text { font-size: 2.2rem; font-weight: 900; color: #000; letter-spacing: -1.5px; }
        .location-text { color: #94a3b8; font-weight: 800; font-size: 0.75rem; text-transform: uppercase; display: flex; align-items: center; gap: 6px; letter-spacing: 2px; }
        
        .job-card { border: 1px solid #f1f5f9; border-radius: 2.5rem; transition: 0.4s ease; background: #fff; height: 100%; display: flex; flex-direction: column; }
        .job-card:hover { transform: translateY(-10px); box-shadow: 0 30px 50px rgba(0,0,0,0.06); border-color: #2563eb; }
        
        .btn-ready { animation: ledRotate 1.5s infinite; border: 2px solid #2563eb !important; background: #1d4ed8 !important; color: white !important; cursor: pointer; }
        .btn-locked { background: #e2e8f0; color: #94a3b8; cursor: not-allowed; border: 2px solid transparent; }
        .btn-glow { background: #2563eb; color: white; animation: pulse-blue 2s infinite; border-radius: 9999px; font-weight: 900; text-transform: uppercase; transition: 0.3s; }
        
        .input-field { width: 100%; padding: 1.25rem; background: #f8fafc; border-radius: 1.25rem; border: 2px solid transparent; font-weight: 600; outline: none; transition: 0.3s; }
        .input-field:focus { border-color: #2563eb; background: #fff; }
        
        /* HUGE SUBSCRIPTION CARDS */
        .plan-card { border: 2px solid #f1f5f9; border-radius: 4rem; transition: 0.4s ease; background: white; min-height: 600px; padding: 3.5rem; }
        .plan-card:hover { transform: scale(1.05); border-color: #2563eb; box-shadow: 0 40px 80px rgba(37, 99, 235, 0.15); }
        .check-item { display: flex; align-items: center; gap: 15px; font-size: 1.1rem; font-weight: 700; margin-bottom: 20px; }

        @keyframes ledRotate { 0%, 100% { box-shadow: 0 0 10px #2563eb; } 50% { box-shadow: 0 0 25px #60a5fa; } }
        @keyframes pulse-blue { 0% { box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(37, 99, 235, 0); } 100% { box-shadow: 0 0 0 0 rgba(37, 99, 235, 0); } }
        .hidden-box { display: none; }
    </style>
</head>
<body>

    <nav class="py-6 px-10 flex justify-between items-center bg-white sticky top-0 z-50 border-b border-slate-50">
        <div class="flex items-center gap-2 cursor-pointer" onclick="showPage('visitor')">
            <i class="fas fa-suitcase text-blue-700 text-2xl"></i>
            <h1 class="text-2xl font-black tracking-tighter uppercase">JOBZZY</h1>
        </div>
        <div id="nav-auth" class="flex items-center gap-6">
            <button onclick="showPage('login')" class="text-xs font-black uppercase tracking-widest text-slate-400">Login</button>
            <button onclick="showPage('signup')" class="bg-blue-700 text-white px-8 py-3 rounded-full font-black text-xs uppercase shadow-lg">Join Hub</button>
        </div>
        <div id="nav-user" class="hidden flex items-center gap-4">
            <span id="tier-display" class="text-[9px] font-black text-blue-700 bg-blue-50 px-3 py-1 rounded-full uppercase">Free Tier</span>
            <div onclick="showPage('subscription')" class="w-10 h-10 rounded-full border-2 border-blue-700 flex items-center justify-center bg-blue-50 cursor-pointer">
                <i class="fas fa-user-tie text-blue-700"></i>
            </div>
        </div>
    </nav>

    <main id="visitor-page" class="page-section page-active">
        <header class="pt-24 pb-12 px-6 text-center bg-slate-50">
            <h2 class="text-5xl md:text-7xl font-black mb-6 uppercase tracking-tighter leading-[0.9]">THE WORLD IS HIRING.<br><span class="text-blue-700">STOP WAITING.</span></h2>
            <p class="text-xl md:text-2xl font-bold text-slate-600 max-w-2xl mx-auto">Your location shouldn't limit your income.</p>
        </header>

        <section class="max-w-6xl mx-auto -mt-10 px-6 mb-24">
            <div class="bg-white p-12 rounded-[3.5rem] shadow-2xl border-2 border-slate-100">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div class="flex flex-col gap-2"><label class="text-[10px] font-black uppercase text-slate-400 italic">Continent</label><select class="w-full p-5 bg-slate-50 rounded-2xl font-bold text-sm outline-none"><option>Africa Region</option><option>Asia Region</option></select></div>
                    <div class="flex flex-col gap-2"><label class="text-[10px] font-black uppercase text-slate-400 italic">Qualification</label><select class="w-full p-5 bg-slate-50 rounded-2xl font-bold text-sm outline-none"><option>Degree</option><option>High School</option></select></div>
                    <div class="flex flex-col gap-2"><label class="text-[10px] font-black uppercase text-slate-400 italic">Expertise</label><input type="text" placeholder="e.g. Nursing" class="w-full p-5 bg-slate-50 rounded-2xl font-bold text-sm outline-none"></div>
                    <div class="flex flex-col gap-2"><label class="text-[10px] font-black uppercase text-slate-400 italic">Mode</label><select class="w-full p-5 bg-slate-50 rounded-2xl font-bold text-sm outline-none"><option>Remote</option><option>On-Site</option></select></div>
                </div>
                <button onclick="showPage('signup')" class="w-full mt-10 bg-blue-700 text-white py-6 rounded-[2rem] font-black uppercase text-sm">Search Global Opportunities</button>
            </div>
        </section>

        <section class="max-w-7xl mx-auto px-6 pb-32">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12">
                <div class="job-card p-10">
                    <div class="flex justify-between items-center mb-8"><i class="fas fa-network-wired text-blue-700 text-2xl"></i><span class="text-[9px] font-black bg-slate-100 px-3 py-1 rounded-full uppercase">Relocation</span></div>
                    <h4 class="text-2xl font-black uppercase mb-3 leading-tight">Infrastructure Architect</h4>
                    <div class="money-text mb-2">€ 5,800.00</div>
                    <div class="location-text mb-8"><i class="fas fa-map-marker-alt text-red-500"></i> Berlin, Germany</div>
                    <p class="text-sm text-slate-500 italic mb-10 leading-relaxed">European data centers are expanding rapidly. This role is vital for infrastructure scaling.</p>
                    <button onclick="showPage('signup')" class="mt-auto w-full py-5 border-2 border-slate-900 rounded-2xl font-black uppercase text-[10px]">Apply Now</button>
                </div>
                <div class="job-card p-10">
                    <div class="flex justify-between items-center mb-8"><i class="fas fa-balance-scale text-blue-700 text-2xl"></i><span class="text-[9px] font-black bg-blue-50 text-blue-700 px-3 py-1 rounded-full uppercase">Remote</span></div>
                    <h4 class="text-2xl font-black uppercase mb-3 leading-tight">Corporate Legal Liaison</h4>
                    <div class="money-text mb-2">£ 4,500.00</div>
                    <div class="location-text mb-8"><i class="fas fa-map-marker-alt text-red-500"></i> London, UK</div>
                    <p class="text-sm text-slate-500 italic mb-10 leading-relaxed">International firms require remote legal analysts to manage contract compliance.</p>
                    <button onclick="showPage('signup')" class="mt-auto w-full py-5 border-2 border-slate-900 rounded-2xl font-black uppercase text-[10px]">Apply Now</button>
                </div>
                <div class="job-card p-10 border-blue-100 border-2">
                    <div class="flex justify-between items-center mb-8"><i class="fas fa-user-md text-blue-700 text-2xl"></i><span class="text-[9px] font-black bg-slate-100 px-3 py-1 rounded-full uppercase">On-Site</span></div>
                    <h4 class="text-2xl font-black uppercase mb-3 leading-tight">Surgical Consultant</h4>
                    <div class="money-text mb-2">$ 8,200.00</div>
                    <div class="location-text mb-8"><i class="fas fa-map-marker-alt text-red-500"></i> California, USA</div>
                    <p class="text-sm text-slate-500 italic mb-10 leading-relaxed">Medical facilities require expert diagnostic managers to oversee throughput.</p>
                    <button onclick="showPage('signup')" class="mt-auto w-full py-5 border-2 border-slate-900 rounded-2xl font-black uppercase text-[10px]">Apply Now</button>
                </div>
            </div>
        </section>
    </main>

    <main id="signup-page" class="page-section py-20 bg-slate-50">
        <div class="max-w-md mx-auto bg-white p-10 rounded-[3rem] shadow-2xl">
            <h3 class="text-3xl font-black uppercase mb-8 text-center">Join Hub</h3>
            <form onsubmit="handleAuth(event)" class="space-y-6">
                <input type="text" placeholder="Full Name" class="input-field" required>
                <input type="email" placeholder="Email" id="user-email" class="input-field" required>
                <input type="password" placeholder="Password" class="input-field" required>
                <button type="submit" class="w-full bg-blue-700 text-white py-5 rounded-2xl font-black uppercase text-xs">Create Account</button>
            </form>
        </div>
    </main>

    <main id="login-page" class="page-section py-20 bg-slate-50">
        <div class="max-w-md mx-auto bg-white p-10 rounded-[3rem] shadow-2xl">
            <h3 class="text-3xl font-black uppercase mb-8 text-center">Login</h3>
            <form onsubmit="handleAuth(event)" class="space-y-6">
                <input type="email" placeholder="Email" class="input-field" required>
                <input type="password" placeholder="Password" class="input-field" required>
                <button type="submit" class="w-full bg-slate-900 text-white py-5 rounded-2xl font-black uppercase text-xs">Login</button>
            </form>
        </div>
    </main>

    <main id="dashboard-page" class="page-section py-16 px-6 bg-white min-h-screen">
        <div class="max-w-7xl mx-auto">
            <div class="p-10 rounded-[3.5rem] shadow-2xl border-2 border-slate-100 grid grid-cols-1 md:grid-cols-4 gap-6 mb-24">
                <select id="cont" onchange="updCountries(); chk();" class="input-field"><option value="">Continent...</option><option value="Af">Africa</option><option value="As">Asia</option><option value="Eu">Europe</option></select>
                <select id="c-sel" onchange="chk()" class="input-field hidden-box"></select>
                <select id="d-q" onchange="chk()" class="input-field"><option value="">Qualification...</option><option value="h">High School</option><option value="d">Professional</option></select>
                <input type="text" id="d-i" oninput="chk()" placeholder="Niche..." class="input-field">
                <button id="s-b" onclick="performSearch()" class="md:col-span-4 py-6 rounded-2xl font-black uppercase text-sm btn-locked">Initiate Global Search</button>
            </div>
            <div id="job-feed" class="grid grid-cols-1 md:grid-cols-3 gap-10"></div>
        </div>
    </main>

    <main id="subscription-page" class="page-section py-24 px-6 bg-slate-50">
        <div class="max-w-7xl mx-auto text-center mb-20">
            <h2 class="text-6xl font-black uppercase tracking-tight mb-4">Select Your Tier</h2>
            <p class="text-xl font-bold text-slate-500">Gain direct access to global employers.</p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-12 max-w-[90rem] mx-auto">
            <div class="plan-card flex flex-col">
                <h4 class="text-3xl font-black uppercase mb-2">Free</h4>
                <p class="text-slate-400 font-bold mb-10 italic">Explorer</p>
                <div class="check-item"><i class="fas fa-check text-green-500 text-xl"></i> View All Jobs</div>
                <div class="check-item"><i class="fas fa-times text-slate-300 text-xl"></i> Apply to Jobs</div>
                <button class="mt-auto w-full py-8 bg-slate-100 rounded-3xl font-black text-sm uppercase">Currently Active</button>
            </div>
            
            <div class="plan-card flex flex-col">
                <h4 class="text-3xl font-black uppercase mb-2">$5 <span class="text-lg text-slate-400">/mo</span></h4>
                <p class="text-blue-600 font-black mb-10 italic uppercase tracking-widest">Starter Hub</p>
                <div class="check-item"><i class="fas fa-check text-green-500 text-xl"></i> Africa Region Access</div>
                <div class="check-item"><i class="fas fa-check text-green-500 text-xl"></i> 5 Applications Per Day</div>
                <div class="check-item"><i class="fas fa-check text-green-500 text-xl"></i> Profile Verification</div>
                <button onclick="payWithPaystack(5)" class="mt-auto w-full py-8 btn-glow text-sm uppercase shadow-2xl">Get Access Now</button>
            </div>

            <div class="plan-card border-blue-600 flex flex-col scale-105 shadow-xl">
                <div class="bg-blue-600 text-white text-[10px] font-black uppercase py-2 px-6 rounded-full self-start mb-6">Most Popular</div>
                <h4 class="text-3xl font-black uppercase mb-2">$10 <span class="text-lg text-slate-400">/mo</span></h4>
                <p class="text-blue-600 font-black mb-10 italic uppercase tracking-widest">Pro Professional</p>
                <div class="check-item"><i class="fas fa-check text-green-500 text-xl"></i> Africa & Asia Access</div>
                <div class="check-item"><i class="fas fa-check text-green-500 text-xl"></i> 30 Applications Per Day</div>
                <div class="check-item"><i class="fas fa-check text-green-500 text-xl"></i> Priority Support</div>
                <button onclick="payWithPaystack(10)" class="mt-auto w-full py-8 btn-glow text-sm uppercase shadow-2xl">Go Pro Now</button>
            </div>

            <div class="plan-card flex flex-col">
                <h4 class="text-3xl font-black uppercase mb-2">$30 <span class="text-lg text-slate-400">/mo</span></h4>
                <p class="text-blue-600 font-black mb-10 italic uppercase tracking-widest">Global VIP</p>
                <div class="check-item"><i class="fas fa-check text-green-500 text-xl"></i> Global Access (All)</div>
                <div class="check-item"><i class="fas fa-check text-green-500 text-xl"></i> Unlimited Applications</div>
                <div class="check-item"><i class="fas fa-check text-green-500 text-xl"></i> Resume Optimization</div>
                <button onclick="payWithPaystack(30)" class="mt-auto w-full py-8 btn-glow text-sm uppercase shadow-2xl">Unlock The World</button>
            </div>
        </div>
    </main>

    <script>
        const PUBLIC_KEY = 'pk_live_4689394fbf57d1426973e2213af54e4b2ce49011';
        const c_data = { Af: ["Kenya", "South Africa", "Nigeria"], As: ["Japan", "UAE", "Singapore"], Eu: ["UK", "Germany", "France"] };
        const profTitles = ["Systems Architect", "Medical Liaison", "Legal Counsel", "Aviation Manager", "Data Science Lead"];
        const hsTitles = ["Airport Staff", "Logistics Hand", "Courier Hub Lead", "Security Officer", "Front Desk Assistant"];

        function getCurrency(country) {
            if (country === "UK") return "£";
            if (["Germany", "France"].includes(country)) return "€";
            return "$";
        }

        function showPage(id) {
            document.querySelectorAll('.page-section').forEach(p => p.classList.remove('page-active'));
            document.getElementById(id + '-page').classList.add('page-active');
            if(id === 'dashboard') loadWindowShopping();
            window.scrollTo(0,0);
        }

        function handleAuth(e) { e.preventDefault(); document.getElementById('nav-auth').classList.add('hidden'); document.getElementById('nav-user').classList.remove('hidden'); showPage('dashboard'); }

        function updCountries() {
            const v = document.getElementById('cont').value;
            const s = document.getElementById('c-sel');
            if(v) { s.classList.remove('hidden-box'); s.innerHTML = '<option value="">Select Country...</option>' + c_data[v].map(c => `<option value="${c}">${c}</option>`).join(''); }
        }

        function chk() {
            const ready = document.getElementById('cont').value && document.getElementById('c-sel').value && document.getElementById('d-q').value;
            document.getElementById('s-b').className = ready ? "md:col-span-4 py-6 rounded-2xl font-black uppercase text-sm btn-ready" : "md:col-span-4 py-6 rounded-2xl font-black uppercase text-sm btn-locked";
        }

        function loadWindowShopping() {
            const feed = document.getElementById('job-feed');
            feed.innerHTML = '';
            const worlds = ["USA", "Germany", "Japan", "Kenya", "UK", "UAE"];
            for (let i = 0; i < 12; i++) {
                const country = worlds[i % worlds.length];
                const symbol = getCurrency(country);
                feed.innerHTML += renderCard(profTitles[i % 5], symbol + " " + (7000 + (i * 100)), country);
            }
        }

        function performSearch() {
            const feed = document.getElementById('job-feed');
            const country = document.getElementById('c-sel').value;
            const qual = document.getElementById('d-q').value;
            const symbol = getCurrency(country);
            const list = (qual === 'h') ? hsTitles : profTitles;
            feed.innerHTML = '';
            for (let i = 0; i < 15; i++) {
                const pay = (qual === 'h') ? 2500 + (i * 50) : 7500 + (i * 120);
                feed.innerHTML += renderCard(list[i % 5], symbol + " " + pay, country);
            }
        }

        function renderCard(t, p, l) {
            return `<div class="job-card p-10">
                <h4 class="text-xl font-black uppercase mb-4">${t}</h4>
                <div class="money-text mb-2">${p}</div>
                <div class="location-text mb-6"><i class="fas fa-map-marker-alt text-red-500"></i> ${l}</div>
                <p class="text-xs text-slate-400 italic mb-8">High-priority international role. Portals locked for Free Tier.</p>
                <button onclick="showPage('subscription')" class="mt-auto w-full py-4 border-2 border-slate-900 rounded-2xl font-black uppercase text-[10px]">Unlock Application</button>
            </div>`;
        }

        // --- UPDATED PAYSTACK LOGIC FOR KES SETTLEMENT ---
        function payWithPaystack(usdAmount) {
            // Conversion rate (Adjust as needed)
            const rate = 135; 
            const kesAmount = usdAmount * rate;
            const totalInCents = kesAmount * 100; // Paystack takes subunits

            let handler = PaystackPop.setup({
                key: PUBLIC_KEY, 
                email: document.getElementById('user-email')?.value || 'user@jobzzy.com', 
                amount: totalInCents, 
                currency: 'KES',
                metadata: {
                    custom_fields: [
                        {
                            display_name: "Original Plan",
                            variable_name: "plan_usd",
                            value: usdAmount
                        },
                        {
                            display_name: "Webhook URL",
                            variable_name: "webhook",
                            value: "https://hnfhmlghnqlxgdecoetz.supabase.co/functions/v1/paystack_webhook"
                        }
                    ]
                },
                callback: function(response) {
                    alert('Malipo Yamefaulu! Reference: ' + response.reference);
                },
                onClose: function() {
                    alert('Transaction Cancelled.');
                }
            });
            handler.openIframe();
        }
    </script>
</body>
</html>
